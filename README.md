# Построение дорожного полотна по видео
Сделано в рамках тестового задания по интернатуре в Singularis
---

Цель работы - реализовать алгоритм для генерации полотна дороги по записи с видео-регистратора.
На вход программе подается путь к видео-файлу с записью проезда на автомобиле.
На выходе ожидается изображение дороги с “видом сверху”, составленное из кадров исходного видео.

Условия задания:
```bash
  1. Считаем, что на видео автомобиль движется по прямой дороге без поворотов, холмов и кочек;
  2. Все исходные видео относятся к проезду на одном и том же автомобиле (т.е. положение камеры предполагается одинаковым на всех видео);
  3. Допускается использование заранее заданного четырехугольника перспективы (четыре точки, обозначающие границы дороги, которые помогут построить перспективное    преобразование);
  4. Реализация алгоритма автоматической оценки перспективного искажения дороги будет плюсом;
  5. Допускается, если скрипт корректно отрабатывает хотя бы на одном из предложенных видео целиком;
  6. Сгенерировать можно как изображение для одной полосы, по которой движется автомобиль, так и всего полотна дороги - на ваше усмотрение.
```

Написано на Python 3.12.0.
Использованные библиотеки:
- opencv-python
- numpy
- argparse
- tqdm
---

## Подготовка к запуску

- Клонируем данный репозиторий куда удобно:
```bash
git clone https://github.com/daisccho/road_capture.git
```
- Переходим в папку с проектом и создаем виртуальное окружение, активируем его:
```bash
cd .\road_capture\
python -m venv venv
# Windows
.\venv\Scripts\activate.bat
```
- Устанавливаем библиотеки:
```bash
pip install -r .\src\requirements.txt
```

## Использование

```bash
python .\src\main.py input_video output_image

# Аргументы:
#   input_video   Путь к видео
#   output_image  Путь для сохранения результирующего фото
```
Проект уже содержит четыре предложенных видео, так что можно воспользоваться ими.
